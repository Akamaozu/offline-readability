var React = require('react'),
    button = React.DOM.button,
    form = React.DOM.form,
    div = React.DOM.div;

module.exports = React.createClass({

  render: function() {

    var bookmark = this.props.bookmark,
        is_archived = this.props.bookmark.archive,
        is_favorited = this.props.bookmark.favorite,

        delete_btn, fave_btn, archive_btn;

    delete_btn = form({ className: 'unbookmark', method: 'POST', action: '/bookmark/' + bookmark.id + '/unbookmark' },

      button({ type: 'submit', title: 'delete article' },

        div({ className: 'icon icon-delete'})
      )
    );

    if( is_favorited ){

      fave_btn = form({ className: 'unfavorite', method: 'POST', action: '/bookmark/' + bookmark.id + '/unfavorite' },

        button({ type: 'submit', title: 'remove from favorites' },
          div({ className: 'icon icon-favorite' })
        )
      );
    }

    else{

      fave_btn = form({ className: 'favorite', method: 'POST', action: '/bookmark/' + bookmark.id + '/favorite' },

        button({ type: 'submit', title: 'add to favorites' },
          div({ className: 'icon icon-favorite' })
        )
      );
    }

    if( is_archived ){

      archive_btn = form({ className: 'unarchive', method: 'POST', action: '/bookmark/' + bookmark.id + '/unarchive' },

        button({ type: 'submit', title: 'remove from archives' },
          div({ className: 'icon icon-archive' })
        )
      );
    }

    else{

      archive_btn = form({ className: 'archive', method: 'POST', action: '/bookmark/' + bookmark.id + '/archive' },

        button({ type: 'submit', title: 'add to archives' },
          div({ className: 'icon icon-archive' })
        )
      );
    }

    return div({ className: 'article-actions' + ( this.props.footer ? ' footer' : '' ) },

      delete_btn,
      fave_btn,
      archive_btn
    );
  }
})