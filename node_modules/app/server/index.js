var express = require('express'),
    server = express(),

    path_to_client_dir = __dirname + '/../client';

// configure server
  server.set('view engine', 'ejs');

// serve fonts, styles and scripts
  server.use('/fonts', express.static( path_to_client_dir + '/fonts' ) );
  server.use('/css', express.static( path_to_client_dir + '/css' ) );
  server.use('/js', express.static( path_to_client_dir + '/js' ) );

// load routes
  server.use('/api/1', require('app/server/routes/api/v1') );
  server.use('/', require('app/server/routes/webapp') );

// start server
  server.listen( process.env.PORT, function(){

    console.log('[HTTP] server started on port ' + process.env.PORT );
  });