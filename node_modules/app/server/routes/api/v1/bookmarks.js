var bookmark_api_routes = module.exports = require('express').Router();

bookmark_api_routes.use( require('app/server/middleware/require-valid-auth-header') );

bookmark_api_routes.get('/', function( req, res ){
  
  var readability = require('app/server/modules/readability');

  readability.bookmarks( req.auth.oauth_token, req.auth.oauth_token_secret, {}, function( error, bookmarks ){

    if( error ) return res.status( 400 ).send( error.toString() );

    res.json( bookmarks );
  });
});